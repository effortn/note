Linux基本命令

1、Linux命令格式
	命令提示符：
		[root@localhost ~]#
	命令格式：
		命令 [选项] [参数]
		注意：个别命令使用不遵循此格式
			 当有多个选项时，可以写在一起
			 简化选项与完整选项
			 	-a 等于 --all

2、目录命令：
	文件描述：
		-rw-r--r--. 1 root root
			-文件类型（-文件 d目录 |软连接文件 其他：块设备、字符设备、套接字和管道文件）
			rw-   		r-- 		r--
			u所有者		g所属组		o其他人
			r读 w写 x执行
			"."代表ACL权限
			1 代表引用计数（只在硬链接）
			root root 所有者 所有组
	
	查看目录文件		
		ls [选项] [文件或目录]
		选项：
			-a  显示所有文件，包括隐藏文件
			-l  显示详细信息
			-d  查看目录属性
			-h  人性化显示文件大小
			-i  显示inode

	创建目录(make directory)
		mkdir -p [目录名]
			-p 递归创建

	进入目录(change directory)
		cd [目录名] （~家目录 -上次目录 ..上级目录 .当前目录）

	查询所在目录位置(print working directory)
		pwd

	删除空目录(remove empty directory)
		rmdir [目录名]

	删除目录、文件(remove)
		rm -rf [目录名/文件名]
			-r 目录
			-f 强制

	复制命令(copy)
		cp [选项] [原文件或目录] [目标目录]
			-r 复制目录
			-p 连带文件属性复制
			-d 若原文件是链接文件，则复制链接属性
			-a 相当于 -pdr

	剪切或改名命令(move)
		mv [原文件或目录] [目标目录]

3、常见目录作用
	/			根目录
	/root		超级用户家目录
	/home		其他用户目录
	/bin		命令保存目录（普通用户就可以读取的命令）
	/boot		启动目录，启动相关文件
	/dev		设备文件保存目录
	/etc		配置文件保存目录
	/lib		系统库保存目录
	/mnt		系统挂载目录
	/media		挂载目录
	/proc		不能直接操作，保存的是内存的过载点
	/sys		不能直接操作，保存的是内存的过载点
	/tmp		临时目录
	/sbin		命令保存目录（超级用户才能使用的目录）
	/usr		系统软件资源目录(Unix System Resource)
	/usr/bin/	系统命令（普通用户）
	/usr/sbin/	系统命令（超级用户）
	/var		系统相关文档内容

4、链接命令（link）：生成链接文件
	ln -s [原文件] [目标文件]
		选项： -s 创建软链接
	| 硬链接
		- 拥有相同的i节点和存储block块，可以看做是同一个文件
		- 可通过i节点识别
		- 不能跨分区
		- 不能针对目录使用
	| 软链接
		- 类似Windows快捷方式
		- 软链接拥有自己的I节点和Block块，但是数据块中只保存原文件的文件名和I节点号，并没有实际的文件数据
		- lrwxrwxrwx l 软链接（软链接权限都为rwxrwxrwx）
		- 修改任意文件，另一个都改变
		- 删除原文件，软链接不能使用

5、文件搜索命令
	1）locate命令
		| locate 文件名
			#在后台数据库中按文件名搜索，搜索速度更快
		| /var/lib/mlocate #locate命令所搜索的后台数据库
		| updatedb  #更新数据库
	2）命令搜索的命令whereis与which
		| whereis 命令名
			#搜索命令所在路径及帮助文档所在位置
			-b：	 只查找可执行文件
			-m： 只查找帮助文件
		| which 文件名
			#搜索命令所在路径及别名
			#搜索的是PATH环境变量
	3）文件搜索命令find
		| find [搜索范围] [搜索条件]
			#搜索文件
		| find / -name install.log
			#避免大范围搜索，会非常耗费系统资源
			#find是在系统中搜索符合条件的文件名。如果需要匹配，使用通配符，通配符是完全匹配
			#通配符： *  匹配任意内容
					 ?  匹配任意一个字符
					 [] 匹配任意一个中括号内的字符
		| find /root -iname install.log
			#不区分大小写
		| find /root -user root
			#按照所有者搜索
		| find /root -nouser
			#查找没有所有者的文件
		| find /var -mtime +10
			#查找10天前修改的文件
				-10 	10天内修改的文件
				10		10天当天修改的文件
				+10		10天前修改的文件
				atime	文件访问时间
				ctime 	改变文件属性
				mtime 	修改文件内容
		| find /var -size 25k
			#查找文件大小是25KB的文件(默认是数据块)
				-25k	小于25KB的文件(k,M)
				25k		等于25KB的文件
				+25k	大于25KB的文件
		| find /var -inum 262422
			#查找i节点是262422的文件
		| find /var -size +20k -a -size -50k
			#查找/var目录下大于20KB并且小于50KB的文件
				-a and 逻辑与
				-o or  逻辑或
		| find /etc -size +20k -a -size -50k -exec ls -lh {} \; 
			#查找大于20KB并且小于50KB的文件，并显示详细信息
			#-exec/-ok 命令 {} \;对搜索结果执行操作
	4）字符串搜索命令grep
		| grep [选项] 字符串 文件名
			#在文件当中匹配符合条件的字符串
			-i 忽略大小写
			-v 排除指定字符串

6、帮助命令
	1）帮助命令man
		| man 命令
		| man的级别
			1：查看命令的帮助
			2：查看可被内核调用的函数的帮助
			3：查看函数和函数库的帮助
			4：查看特殊文件的帮助(主要是/dev目录下的文件)
			5：查看配置文件的帮助
			6：查看游戏的帮助
			7：查看其它杂项的帮助
			8：查看系统管理员可用命令的帮助
			9：查看和内核相关文件的帮助
		| man -f 命令
			#查看命令拥有那个级别的帮助
				相当于  whatis 命令
		| man -k 命令
			#查看和命令相关的所有帮助
				相当于  apropos 命令
	2）其它帮助命令
		| 命令 --help
			#获取命令选项
		| shell内部命令帮助
			help shell内部命令
		| 详细命令帮助info
			info 命令
				-回车： 进入子帮助页面(带有*号标记)
				u：		进上层页面入
				n：		进入下一个帮助小节
				p：		进入上一个帮助小节
				q：		退出

7、压缩命令
	1）常用压缩格式
		.zip	.gz		.bz2
		.tar.gz 	.tar.bz2
	2）.zip格式压缩(和Windows通用)
		| zip 压缩文件名 源文件
			#压缩文件
		| zip -r 压缩文件名 源目录
			#压缩目录
		| unzip 压缩文件
			#解压缩文件
	3）.gz格式压缩(Windows可以实现解压缩)
		| gzip 源文件
			#压缩为.gz格式的压缩文件，源文件会消失
		| gzip -c 源文件 > 压缩文件
			#压缩为.gz格式，源文件保留
		| gzip -r 目录
			#压缩目录下所有的子文件，但是不能压缩目录
		| gzip -d 压缩文件
			#解压缩文件
		| gunzip 压缩文件
			#解压缩文件
	4）.bz2格式压缩
		| bzip2 源文件
			#压缩为.bz2格式，不保留源文件
		| bzip2 -k 源文件
			#压缩之后保留源文件
			#bzip2命令不能压缩目录
		| bzip2 -d 压缩文件
			#解压缩，-k保留压缩文件
		| bunzip2 压缩文件
			#解压缩，-k保留压缩文件
	5）打包命令tar
		| tar -cvf 打包文件名 源文件
			选项：
				-c： 打包
				-v： 显示过程
				-f： 指定打包后的文件名
		| tar -xvf 打包文件名
			选项：
				-x： 解打包
	6）.tar.gz/.tar.bz2压缩格式
		| 其实.tar.gz格式是先打包为.tar格式，再压缩为.gz格式
		| tar -zcvf 压缩包名.tar.gz 源文件
			选项：
				-z： 压缩为.tar.gz格式
		| tar -ztvf 压缩包名.tar.gz
			选项：
				-t： 只看压缩包下的文件
		| tar -jcvf 压缩包.tar.bz2 源文件
			选项：
				-j： 压缩为.tar.bz2格式
		| tar -jcvf 压缩包.tar.bz2 -C 解压目录
			选项：
				-C： 解压到指定目录

8、关机和重启命令
	1）shutdown命令(正确缓存运行程序)
		| shutdown [选项] 时间
			选项：
				-c： 取消前一个关机命令
				-h： 关机
				-r： 重启
			时间：now | 06:00
	2）其他关机命令
		| halt
		| poweroff
		| init 0
	3）其他重启命令
		| reboot（比较安全）
		| init 6
	4）系统运行级别
		0： 关机
		1： 单用户
		2： 不完全多用户，不含NFS服务
		3： 完全多用户
		4： 未分配
		5： 图形界面
		6： 重启
	5）退出登录命令
		| logout